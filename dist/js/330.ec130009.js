"use strict";(self["webpackChunkakademia_vue_2"]=self["webpackChunkakademia_vue_2"]||[]).push([[330],{5330:function(t,s,e){e.r(s),e.d(s,{default:function(){return G}});var i=e(3396),a=e(7139),n=e(9242);const l=t=>((0,i.dD)("data-v-2e6375e9"),t=t(),(0,i.Cn)(),t),d={class:"overlay"},c=l((()=>(0,i._)("span",{class:"text title"},"Name",-1))),o={class:"overlay-options"},r={class:"container-right"},u=l((()=>(0,i._)("div",{class:"header"},null,-1))),p=l((()=>(0,i._)("div",{class:"container-loading"},[(0,i._)("span",{class:"text title dark center"},"Loading")],-1))),_=l((()=>(0,i._)("div",{class:"header"},null,-1))),h={class:"container-loading"},m=l((()=>(0,i._)("span",{class:"text title dark"},"Error:",-1))),v={class:"header"},k=l((()=>(0,i._)("span",{class:"text title"},"My Lists",-1))),w={class:"container-items"},y=["onClick"],g={class:"list"},b={class:"text title button"},x={key:0,class:"list-items"},C=l((()=>(0,i._)("span",{class:"text dark button"},"No Items",-1))),f=[C],D={key:1},z={class:"list-item"},I={class:"text button"},L={key:2},H={class:"list-items"},Y={class:"list-item"},A={class:"text button"},$={class:"list-item"},E={class:"text button"},K={class:"list-item"},Z={class:"text button"},M=l((()=>(0,i._)("hr",null,null,-1))),N={class:"list-item"},U={class:"text small dark button"},q={class:"text small dark button"};function S(t,s,e,l,C,S){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",{class:(0,a.C_)(["container-overlay",{disabled:"on"!=C.overlay}])},[(0,i._)("div",d,[c,(0,i.wy)((0,i._)("input",{class:"input text",type:"text",placeholder:"Dinner",spellcheck:"false","onUpdate:modelValue":s[0]||(s[0]=t=>C.addInput=t),onKeyup:s[1]||(s[1]=(0,n.D2)((t=>S.addList("off",!0)),["enter"]))},null,544),[[n.nr,C.addInput]]),(0,i._)("div",o,[(0,i._)("span",{class:"text blue button",onClick:s[2]||(s[2]=t=>S.addList("off",!1))},"Cancel"),(0,i._)("span",{class:(0,a.C_)(["text blue button",{disabled:!S.canAdd}]),onClick:s[3]||(s[3]=t=>S.addList("off",!0))},"Create",2)])])],2),(0,i._)("div",r,[C.lists?C.lists.error?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[_,(0,i._)("div",h,[m,(0,i.Uk)(" "+(0,a.zw)(C.lists.error),1)])],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:2},[(0,i._)("div",v,[k,(0,i._)("span",{class:"text blue button",onClick:s[4]||(s[4]=t=>S.addList("on",!1))},"Add")]),(0,i._)("div",w,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(C.lists,(t=>((0,i.wg)(),(0,i.iD)("div",{key:`list-${t.id}`},[(0,i._)("a",{href:"`/lists/${list.id}`",onClick:(0,n.iM)((s=>S.openListDetail(t)),["prevent"])},[(0,i._)("div",g,[(0,i._)("span",b,(0,a.zw)(t.title),1),t.items.length<1?((0,i.wg)(),(0,i.iD)("div",x,f)):(0,i.kq)("",!0),t.items.length<3?((0,i.wg)(),(0,i.iD)("div",D,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.items,(s=>((0,i.wg)(),(0,i.iD)("div",{class:"list-items",key:`item-${s.id}`},[(0,i._)("div",z,[(0,i._)("span",{class:(0,a.C_)(["text button",{crossed:S.isChecked(t,s)}])},(0,a.zw)(s.name),3),(0,i._)("span",I,(0,a.zw)(s.value+" "+s.unit),1)])])))),128))])):((0,i.wg)(),(0,i.iD)("div",L,[(0,i._)("div",H,[(0,i._)("div",Y,[(0,i._)("span",{class:(0,a.C_)(["text button",{crossed:S.isChecked(t,t.items[0])}])},(0,a.zw)(t.items[0].name),3),(0,i._)("span",A,(0,a.zw)(t.items[0].value+" "+t.items[0].unit),1)]),(0,i._)("div",$,[(0,i._)("span",{class:(0,a.C_)(["text button",{crossed:S.isChecked(t,t.items[1])}])},(0,a.zw)(t.items[1].name),3),(0,i._)("span",E,(0,a.zw)(t.items[1].value+" "+t.items[1].unit),1)]),(0,i._)("div",K,[(0,i._)("span",{class:(0,a.C_)(["text button",{crossed:S.isChecked(t,t.items[2])}])},(0,a.zw)(t.items[2].name),3),(0,i._)("span",Z,(0,a.zw)(t.items[2].value+" "+t.items[2].unit),1)]),M,(0,i._)("div",N,[(0,i._)("span",U,"And "+(0,a.zw)(t.items.length-3)+" others...",1),(0,i._)("span",q,(0,a.zw)(t.items.length)+" items in total",1)])])]))])],8,y)])))),128))])],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[u,p],64))])],64)}e(7658);var V=e(4161),j={data(){return{lists:null,canInteract:!0,addInput:"",overlay:"off"}},computed:{canAdd(){return""!=this.addInput}},methods:{async update(){try{const{data:{data:t}}=await V.Z.get("/api/v1/shopping-lists");this.lists=t}catch(t){console.error("Error:",t),this.lists={error:t}}},async addList(t,s){if(this.canInteract)try{s||(this.overlay=t),s&&this.canAdd&&(this.canInteract=!1,await V.Z.post("/api/v1/shopping-lists",{id:0!=this.lists.length?this.lists[0].id+1:0,title:this.addInput,icon:null,items:[]}),this.overlay=t),this.addInput="",this.canInteract=!0}catch(e){console.error("Error:",e)}},isChecked({id:t},{id:s}){return!!this.lists.find((({id:s})=>s==t)).items.find((t=>t.id==s)).is_checked},openListDetail({id:t}){this.$router.push({name:"Shopping List - Detail",params:{id:t}})}},async mounted(){this.update()},async updated(){this.update()}},B=e(89);const F=(0,B.Z)(j,[["render",S],["__scopeId","data-v-2e6375e9"]]);var G=F}}]);
//# sourceMappingURL=330.ec130009.js.map