"use strict";(self["webpackChunkakademia_vue_2"]=self["webpackChunkakademia_vue_2"]||[]).push([[474],{4474:function(t,s,i){i.r(s),i.d(s,{default:function(){return $}});var e=i(3396),a=i(7139),l=i(9242);const n={class:"overlay"},d=(0,e._)("span",{class:"text title"},"Name",-1),r={class:"overlay-options"},c={class:"container-right"},o=(0,e._)("div",{class:"header"},null,-1),u=(0,e._)("div",{class:"container-loading"},[(0,e._)("span",{class:"text title dark center"},"Loading")],-1),p=(0,e._)("div",{class:"header"},null,-1),h={class:"container-loading"},_=(0,e._)("span",{class:"text title dark"},"Error:",-1),v={class:"header"},k=(0,e._)("span",{class:"text title"},"My Lists",-1),y={class:"container-items"},m=["onClick"],g={class:"list"},w={class:"text title button"},b={key:0,class:"list-items"},C=(0,e._)("span",{class:"text dark button"},"No Items",-1),D=[C],x={class:"list-item"},f={class:"text button"};function L(t,s,i,C,L,I){return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e._)("div",{class:(0,a.C_)(["container-overlay",{disabled:!L.overlay}])},[(0,e._)("div",n,[d,(0,e.wy)((0,e._)("input",{class:"input text",type:"text",placeholder:"Dinner",spellcheck:"false","onUpdate:modelValue":s[0]||(s[0]=t=>L.addInput=t),onKeyup:s[1]||(s[1]=(0,l.D2)((t=>I.addList(!1,!0)),["enter"]))},null,544),[[l.nr,L.addInput]]),(0,e._)("div",r,[(0,e._)("span",{class:"text blue button",onClick:s[2]||(s[2]=t=>I.addList(!1,!1))},"Cancel"),(0,e._)("span",{class:(0,a.C_)(["text blue button",{disabled:!I.canAdd}]),onClick:s[3]||(s[3]=t=>I.addList(!1,!0))},"Create",2)])])],2),(0,e._)("div",c,[L.lists?L.lists.error?((0,e.wg)(),(0,e.iD)(e.HY,{key:1},[p,(0,e._)("div",h,[_,(0,e.Uk)(" "+(0,a.zw)(L.lists.error),1)])],64)):((0,e.wg)(),(0,e.iD)(e.HY,{key:2},[(0,e._)("div",v,[k,(0,e._)("span",{class:"text blue button",onClick:s[4]||(s[4]=t=>I.addList(!0,!1))},"Add")]),(0,e._)("div",y,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(L.lists,(t=>((0,e.wg)(),(0,e.iD)("div",{key:`list-${t.id}`},[(0,e._)("a",{href:"`/lists/${list.id}`",onClick:(0,l.iM)((s=>I.openListDetail(t)),["prevent"])},[(0,e._)("div",g,[(0,e._)("span",w,(0,a.zw)(t.title),1),t.items.length<1?((0,e.wg)(),(0,e.iD)("div",b,D)):(0,e.kq)("",!0),((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(t.items,(s=>((0,e.wg)(),(0,e.iD)("div",{class:"list-items",key:`item-${s.id}`},[(0,e._)("div",x,[(0,e._)("span",{class:(0,a.C_)(["text button",{crossed:I.isChecked(t,s)}])},(0,a.zw)(s.name),3),(0,e._)("span",f,(0,a.zw)(s.value+" "+s.unit),1)])])))),128))])],8,m)])))),128))])],64)):((0,e.wg)(),(0,e.iD)(e.HY,{key:0},[o,u],64))])],64)}i(7658);var I=i(4161),H={data(){return{lists:null,addInput:"",overlay:!1}},computed:{canAdd(){return""!=this.addInput}},methods:{async update(){try{const{data:{data:t}}=await I.Z.get("/api/v1/shopping-lists");this.lists=t}catch(t){console.error("Error:",t),this.lists={error:t}}},async addList(t,s){try{s||(this.overlay=t),s&&""!=this.addInput&&(await I.Z.post("/api/v1/shopping-lists",{id:0!=this.lists.length?this.lists[0].id+1:0,title:this.addInput,icon:null,items:[]}),this.overlay=t),this.addInput=""}catch(i){console.error("Error:",i)}},isChecked({id:t},{id:s}){return!!this.lists.find((({id:s})=>s==t)).items.find((t=>t.id==s)).is_checked},openListDetail({id:t}){this.$router.push({name:"Shopping List - Detail",params:{id:t}})}},async mounted(){this.update()},async updated(){this.update()}},Y=i(89);const z=(0,Y.Z)(H,[["render",L]]);var $=z}}]);
//# sourceMappingURL=474.a30a4d00.js.map